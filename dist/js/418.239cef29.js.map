{"version":3,"file":"js/418.239cef29.js","mappings":"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","sources":["webpack://f_f/./src/views/StreetView.vue","webpack://f_f/src/views/StreetView.vue","webpack://f_f/./src/views/StreetView.vue?245e","webpack://f_f/./src/views/StreetView.vue?8520"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{ref:\"container\",staticClass:\"carte\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"carte\" ref=\"container\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from 'three'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\nimport plateforme from '../assets/paul_ricard/Plateforme.glb'\r\nimport route from '../assets/paul_ricard/Route.glb'\r\nimport batiments from '../assets/paul_ricard/Batiments.glb'\r\nimport toilettes from '../assets/paul_ricard/Toilettes.glb'\r\nimport restaurants from '../assets/paul_ricard/Restaurants.glb'\r\nimport concerts from '../assets/paul_ricard/Concerts.glb'\r\n\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: 'Carte',\r\n  data() {\r\n    return {\r\n      routeObject: null,\r\n      plateformeObject: null,\r\n      toilettesObject: null,\r\n      batimentsObject: null,\r\n      restaurantsObject: null,\r\n      concertsObject: null,\r\n\r\n      rotationX: 0,\r\n      rotationY: 0,\r\n\r\n      camera: null,\r\n\r\n      chek_toilettes: false,\r\n      chek_batiments: false,\r\n      chek_restaurants: false,\r\n      chek_concerts: false\r\n    }\r\n  },\r\n  mounted() {\r\n    const scene = new THREE.Scene();\r\n    const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n    this.camera = camera;\r\n    const renderer = new THREE.WebGLRenderer();\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    this.$refs.container.appendChild(renderer.domElement);\r\n\r\n    this.camera.position.y = 0.25\r\n    this.camera.position.z = 0\r\n\r\n    const loader = new GLTFLoader();\r\n\r\n    loader.load(route, (gltf) => {\r\n      this.routeObject = gltf.scene;\r\n      scene.add(this.routeObject);\r\n    })\r\n\r\n    loader.load(plateforme, (gltf) => {\r\n      this.plateformeObject = gltf.scene;\r\n      scene.add(this.plateformeObject);\r\n    })\r\n\r\n    loader.load(batiments, (gltf) => {\r\n      this.batimentsObject = gltf.scene;\r\n      scene.add(this.batimentsObject);\r\n    })\r\n\r\n    loader.load(toilettes, (gltf) => {\r\n      this.toilettesObject = gltf.scene;\r\n      scene.add(this.toilettesObject);\r\n    })\r\n\r\n    loader.load(restaurants, (gltf) => {\r\n      this.restaurantsObject = gltf.scene;\r\n      scene.add(this.restaurantsObject);\r\n    })\r\n\r\n    loader.load(concerts, (gltf) => {\r\n      this.concertsObject = gltf.scene;\r\n      scene.add(this.concertsObject);\r\n    })\r\n\r\n    const light = new THREE.PointLight(0xffffffff, 1)\r\n    scene.add(light);\r\n\r\n    window.addEventListener('keydown', this.gererTouchesClavier);\r\n\r\n    const loop = () => {\r\n      requestAnimationFrame(loop);\r\n\r\n      light.position.copy(camera.position);\r\n\r\n      if (this.routeObject) {\r\n        this.routeObject.rotation.x = this.rotationX;\r\n        this.routeObject.rotation.y = this.rotationY;\r\n      }\r\n\r\n      if (this.plateformeObject) {\r\n        this.plateformeObject.rotation.x = this.rotationX;\r\n        this.plateformeObject.rotation.y = this.rotationY;\r\n      }\r\n\r\n      if (this.toilettesObject) {\r\n        this.toilettesObject.rotation.x = this.rotationX;\r\n        this.toilettesObject.rotation.y = this.rotationY;\r\n      }\r\n\r\n      if (this.batimentsObject) {\r\n        this.batimentsObject.rotation.x = this.rotationX;\r\n        this.batimentsObject.rotation.y = this.rotationY;\r\n      }\r\n\r\n      if (this.restaurantsObject) {\r\n        this.restaurantsObject.rotation.x = this.rotationX;\r\n        this.restaurantsObject.rotation.y = this.rotationY;\r\n      }\r\n\r\n      if (this.concertsObject) {\r\n        this.concertsObject.rotation.x = this.rotationX;\r\n        this.concertsObject.rotation.y = this.rotationY;\r\n      }\r\n\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n      renderer.render(scene, this.camera);\r\n    }\r\n\r\n    loop();\r\n  },\r\n  methods: {\r\n    gererTouchesClavier(event) {\r\n      switch(event.key) {\r\n        case 'ArrowRight':\r\n          this.deplacerDroite();\r\n          break;\r\n        case 'ArrowLeft':\r\n          this.deplacerGauche();\r\n          break;\r\n        case 'ArrowUp':\r\n          this.avancer();\r\n          break;\r\n        case 'ArrowDown':\r\n          this.reculer();\r\n          break;\r\n      }\r\n    },\r\n    deplacerDroite() {\r\n      this.camera.rotation.y -= 0.03;\r\n    },\r\n    deplacerGauche() {\r\n      this.camera.rotation.y += 0.03;\r\n    },\r\n    avancer() {\r\n      const forward = new THREE.Vector3(0, 0, -1);\r\n      forward.applyQuaternion(this.camera.quaternion);\r\n      this.camera.position.add(forward.multiplyScalar(0.03));\r\n    },\r\n    reculer() {\r\n      const backward = new THREE.Vector3(0, 0, 1);\r\n      backward.applyQuaternion(this.camera.quaternion);\r\n      this.camera.position.add(backward.multiplyScalar(0.03));\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  display: flex;\r\n  background-color: black;\r\n}\r\n\r\n.carte {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.menu {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 200px;\r\n  padding: 16px;\r\n  background-color: rgba(180,180,180);\r\n  box-shadow: 0 0 10px rgba(0,0,0,0.1);\r\n}\r\n\r\n.menu h2 {\r\n  font-size: 1.2em;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.menu label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StreetView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StreetView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StreetView.vue?vue&type=template&id=0333c91a&scoped=true\"\nimport script from \"./StreetView.vue?vue&type=script&lang=js\"\nexport * from \"./StreetView.vue?vue&type=script&lang=js\"\nimport style0 from \"./StreetView.vue?vue&type=style&index=0&id=0333c91a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0333c91a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","staticRenderFns","name","data","routeObject","plateformeObject","toilettesObject","batimentsObject","restaurantsObject","concertsObject","rotationX","rotationY","camera","chek_toilettes","chek_batiments","chek_restaurants","chek_concerts","mounted","scene","THREE","window","innerWidth","innerHeight","renderer","setSize","$refs","container","appendChild","domElement","position","y","z","loader","GLTFLoader","load","route","gltf","add","plateforme","batiments","toilettes","restaurants","concerts","light","addEventListener","gererTouchesClavier","loop","requestAnimationFrame","copy","rotation","x","methods","event","key","deplacerDroite","deplacerGauche","avancer","reculer","forward","applyQuaternion","quaternion","multiplyScalar","backward","component"],"sourceRoot":""}