"use strict";(self["webpackChunkf_f"]=self["webpackChunkf_f"]||[]).push([[891],{891:function(t,e,s){s.r(e),s.d(e,{default:function(){return j}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{ref:"container",staticClass:"carte"}),e("div",{staticClass:"menu"},[e("h2",[t._v("Menu")]),e("button",{staticClass:"toggle-button",class:{active:t.isAllChecked},on:{click:t.toggleAll}},[e("div",{staticClass:"slider"})]),e("span",[t._v("Tout")]),t._v(" "),e("br",{staticClass:"espace-supplementaire"}),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chek_toilettes,expression:"chek_toilettes"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.chek_toilettes)?t._i(t.chek_toilettes,null)>-1:t.chek_toilettes},on:{change:[function(e){var s=t.chek_toilettes,i=e.target,c=!!i.checked;if(Array.isArray(s)){var n=null,a=t._i(s,n);i.checked?a<0&&(t.chek_toilettes=s.concat([n])):a>-1&&(t.chek_toilettes=s.slice(0,a).concat(s.slice(a+1)))}else t.chek_toilettes=c},t.faireQuelqueChose]}}),t._v(" Toilettes ")]),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chek_batiments,expression:"chek_batiments"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.chek_batiments)?t._i(t.chek_batiments,null)>-1:t.chek_batiments},on:{change:[function(e){var s=t.chek_batiments,i=e.target,c=!!i.checked;if(Array.isArray(s)){var n=null,a=t._i(s,n);i.checked?a<0&&(t.chek_batiments=s.concat([n])):a>-1&&(t.chek_batiments=s.slice(0,a).concat(s.slice(a+1)))}else t.chek_batiments=c},t.faireQuelqueChose]}}),t._v(" BÃ¢timents ")]),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chek_restaurants,expression:"chek_restaurants"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.chek_restaurants)?t._i(t.chek_restaurants,null)>-1:t.chek_restaurants},on:{change:[function(e){var s=t.chek_restaurants,i=e.target,c=!!i.checked;if(Array.isArray(s)){var n=null,a=t._i(s,n);i.checked?a<0&&(t.chek_restaurants=s.concat([n])):a>-1&&(t.chek_restaurants=s.slice(0,a).concat(s.slice(a+1)))}else t.chek_restaurants=c},t.faireQuelqueChose]}}),t._v(" Restaurants ")]),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chek_concerts,expression:"chek_concerts"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.chek_concerts)?t._i(t.chek_concerts,null)>-1:t.chek_concerts},on:{change:[function(e){var s=t.chek_concerts,i=e.target,c=!!i.checked;if(Array.isArray(s)){var n=null,a=t._i(s,n);i.checked?a<0&&(t.chek_concerts=s.concat([n])):a>-1&&(t.chek_concerts=s.slice(0,a).concat(s.slice(a+1)))}else t.chek_concerts=c},t.faireQuelqueChose]}}),t._v(" Concerts ")]),e("button",{staticClass:"reset-button",on:{click:t.resetRotationAndPosition}},[t._v("Reset Position")])])])},c=[],n=s(477),a=s(836),o=s(960),r=s(311),h=s(432),l=s(167),u=s(93),b=s(571),d={name:"Carte",data(){return{routeObject:null,plateformeObject:null,toilettesObject:null,batimentsObject:null,restaurantsObject:null,concertsObject:null,rotationX:0,rotationY:0,camera:null,isAllChecked:!1,chek_toilettes:!1,chek_batiments:!1,chek_restaurants:!1,chek_concerts:!1,isDragging:!1,startMouseX:0,startMouseY:0,currentMouseX:0,currentMouseY:0}},mounted(){const t=new n.xsS,e=new n.cPb(70,window.innerWidth/window.innerHeight,.1,1e3);this.camera=e;const s=new n.CP7;s.setSize(window.innerWidth,window.innerHeight),this.$refs.container.appendChild(s.domElement),this.rotationX=1.57,this.rotationY=0,this.camera.position.z=10;const i=new a.E;i.load(r.Z,(e=>{this.routeObject=e.scene,t.add(this.routeObject)})),i.load(o.Z,(e=>{this.plateformeObject=e.scene,t.add(this.plateformeObject)})),i.load(h.Z,(e=>{this.batimentsObject=e.scene,t.add(this.batimentsObject)})),i.load(l.Z,(e=>{this.toilettesObject=e.scene,t.add(this.toilettesObject)})),i.load(u.Z,(e=>{this.restaurantsObject=e.scene,t.add(this.restaurantsObject)})),i.load(b.Z,(e=>{this.concertsObject=e.scene,t.add(this.concertsObject)}));const c=new n.cek(4294967295,30);t.add(c),window.addEventListener("touchstart",this.debutGlissement),window.addEventListener("touchmove",this.glissement),window.addEventListener("touchend",this.finGlissement),window.addEventListener("mousedown",this.debutGlissement),window.addEventListener("mousemove",this.glissement),window.addEventListener("mouseup",this.finGlissement),window.addEventListener("keydown",this.gererTouchesClavier);const d=()=>{requestAnimationFrame(d),c.position.copy(e.position),this.routeObject&&(this.routeObject.rotation.x=this.rotationX,this.routeObject.rotation.y=this.rotationY),this.plateformeObject&&(this.plateformeObject.rotation.x=this.rotationX,this.plateformeObject.rotation.y=this.rotationY),this.chek_toilettes&&this.toilettesObject?(this.toilettesObject.visible=!0,this.toilettesObject.rotation.x=this.rotationX,this.toilettesObject.rotation.y=this.rotationY):this.toilettesObject&&(this.toilettesObject.visible=!1),this.chek_batiments&&this.batimentsObject?(this.batimentsObject.visible=!0,this.batimentsObject.rotation.x=this.rotationX,this.batimentsObject.rotation.y=this.rotationY):this.batimentsObject&&(this.batimentsObject.visible=!1),this.chek_restaurants&&this.restaurantsObject?(this.restaurantsObject.visible=!0,this.restaurantsObject.rotation.x=this.rotationX,this.restaurantsObject.rotation.y=this.rotationY):this.restaurantsObject&&(this.restaurantsObject.visible=!1),this.chek_concerts&&this.concertsObject?(this.concertsObject.visible=!0,this.concertsObject.rotation.x=this.rotationX,this.concertsObject.rotation.y=this.rotationY):this.concertsObject&&(this.concertsObject.visible=!1),s.setSize(window.innerWidth,.999*window.innerHeight),s.render(t,this.camera)};d()},watch:{chek_toilettes(){this.updateToggleAll()},chek_batiments(){this.updateToggleAll()},chek_restaurants(){this.updateToggleAll()},chek_concerts(){this.updateToggleAll()}},methods:{updateToggleAll(){this.isAllChecked=this.chek_toilettes&&this.chek_batiments&&this.chek_restaurants&&this.chek_concerts},gererTouchesClavier(t){switch(t.key){case"ArrowRight":this.deplacerDroite();break;case"ArrowLeft":this.deplacerGauche();break;case"ArrowUp":this.avancer();break;case"ArrowDown":this.reculer();break}},deplacerDroite(){this.camera.position.x+=.03},deplacerGauche(){this.camera.position.x-=.03},avancer(){this.camera.position.z-=.03},reculer(){this.camera.position.z+=.03},debutGlissement(t){t.touches&&1===t.touches.length?(this.isDragging=!0,this.startMouseX=t.touches[0].clientX,this.startMouseY=t.touches[0].clientY,this.startRotationX=this.rotationX,this.startRotationY=this.rotationY):t.touches||(this.isDragging=!0,this.startMouseX=t.clientX,this.startMouseY=t.clientY,this.startRotationX=this.rotationX,this.startRotationY=this.rotationY)},glissement(t){if(this.isDragging){t.touches&&1===t.touches.length?(this.currentMouseX=t.touches[0].clientX,this.currentMouseY=t.touches[0].clientY):t.touches||(this.currentMouseX=t.clientX,this.currentMouseY=t.clientY);const e=.01*(this.currentMouseX-this.startMouseX),s=.01*(this.currentMouseY-this.startMouseY);this.rotationX=this.startRotationX+s,this.rotationY=this.startRotationY+e}},finGlissement(){this.isDragging=!1},resetRotationAndPosition(){this.rotationX=1.57,this.rotationY=0,this.camera.position.set(0,0,10)},toggleAll(){this.isAllChecked=!this.isAllChecked,this.chek_toilettes=this.isAllChecked,this.chek_batiments=this.isAllChecked,this.chek_restaurants=this.isAllChecked,this.chek_concerts=this.isAllChecked},faireQuelqueChose(){this.chek_toilettes&&this.toilettesObject?this.toilettesObject.visible=!0:this.toilettesObject&&(this.toilettesObject.visible=!1),this.chek_batiments&&this.batimentsObject?this.batimentsObject.visible=!0:this.batimentsObject&&(this.batimentsObject.visible=!1),this.chek_restaurants&&this.restaurantsObject?this.restaurantsObject.visible=!0:this.restaurantsObject&&(this.restaurantsObject.visible=!1),this.chek_concerts&&this.concertsObject?this.concertsObject.visible=!0:this.concertsObject&&(this.concertsObject.visible=!1)}}},k=d,m=s(1),_=(0,m.Z)(k,i,c,!1,null,"2e2723ec",null),j=_.exports}}]);
//# sourceMappingURL=891.e03eabd2.js.map